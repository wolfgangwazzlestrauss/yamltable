{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"YamlTable \u00b6 Documentation : https://wolfgangwazzlestrauss.github.io/yamltable Source Code : https://github.com/wolfgangwazzlestrauss/yamltable YamlTable is a Python command line utility for working with YAML files organized similar to a relational database table. It supports YAML files organized as a list of dictionaries, which share key names and value types. YamlTable provides commands for listing, searching, sorting, etc. data from the supported files. Supported YAML File Organizations \u00b6 YamlTable works with YAML files organized as a list of dictionaries with similar key names and value types. 1 2 3 4 5 6 - name : awscli description : Amazon Web Services command line client website : https://aws.amazon.com/ - name : glances description : operating system monitoring interface website : https://github.com/nicolargo/glances The JSON schema support is included for YAML files organized as: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 schema : $schema : http://json-schema.org/draft-07/schema# description : pipx package metadata schema type : object properties : name : type : string pattern : \"^[\\\\w-]+$\" description : type : string website : type : string required : - name - description - website additionalProperties : false rows : - name : awscli description : Amazon Web Services command line client website : https://aws.amazon.com/ - name : glances description : operating system monitoring interface website : https://github.com/nicolargo/glances Getting Started \u00b6 Installation \u00b6 YamlTable can be installed for Python 3.6+ with pipx . 1 pipx install yamltable To reuse its library functions install with pip . 1 pip install --user yamltable Commands \u00b6 YamlTable provides the following commands for working with YAML files: list : list dictionary key values search : search dictionaries by key and value sort : sort dictionaries by key and value validate : validate that dictionaries conform to the given JSON schema Contributing \u00b6 Since YamlTable is in an early development phase, it is not currently open to contributors. License \u00b6 Licensed under the MIT license.","title":"Home"},{"location":"#yamltable","text":"Documentation : https://wolfgangwazzlestrauss.github.io/yamltable Source Code : https://github.com/wolfgangwazzlestrauss/yamltable YamlTable is a Python command line utility for working with YAML files organized similar to a relational database table. It supports YAML files organized as a list of dictionaries, which share key names and value types. YamlTable provides commands for listing, searching, sorting, etc. data from the supported files.","title":"YamlTable"},{"location":"#supported-yaml-file-organizations","text":"YamlTable works with YAML files organized as a list of dictionaries with similar key names and value types. 1 2 3 4 5 6 - name : awscli description : Amazon Web Services command line client website : https://aws.amazon.com/ - name : glances description : operating system monitoring interface website : https://github.com/nicolargo/glances The JSON schema support is included for YAML files organized as: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 schema : $schema : http://json-schema.org/draft-07/schema# description : pipx package metadata schema type : object properties : name : type : string pattern : \"^[\\\\w-]+$\" description : type : string website : type : string required : - name - description - website additionalProperties : false rows : - name : awscli description : Amazon Web Services command line client website : https://aws.amazon.com/ - name : glances description : operating system monitoring interface website : https://github.com/nicolargo/glances","title":"Supported YAML File Organizations"},{"location":"#getting-started","text":"","title":"Getting Started"},{"location":"#installation","text":"YamlTable can be installed for Python 3.6+ with pipx . 1 pipx install yamltable To reuse its library functions install with pip . 1 pip install --user yamltable","title":"Installation"},{"location":"#commands","text":"YamlTable provides the following commands for working with YAML files: list : list dictionary key values search : search dictionaries by key and value sort : sort dictionaries by key and value validate : validate that dictionaries conform to the given JSON schema","title":"Commands"},{"location":"#contributing","text":"Since YamlTable is in an early development phase, it is not currently open to contributors.","title":"Contributing"},{"location":"#license","text":"Licensed under the MIT license.","title":"License"},{"location":"src/developer/","text":"","title":"Developer Guide"},{"location":"src/developer/roadmap/","text":"","title":"Roadmap"},{"location":"src/reference/","text":"API Reference \u00b6 While YamlTable was designed for command line usage, its library functions also expose helpful functionality. This page gives an overview of all YamlTable classes, functions and methods. Command line interface for sorting YAML files. dependencies ( unsorted , depends , name ) \u00b6 Show source code in yamltable/__init__.py 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 def dependencies ( unsorted : Sequence [ Row ], depends : str , name : str ) -> List [ Row ]: \"\"\"Sort rows based on the dependencies found in key. Args: unsorted: Rows to sort. depends: Dictionary key whose values are other dictionary dependencies. name: Foreign key for dependencies. Raises: ValueError: If rows contain circular requirements. Returns: Rows sorted by requirements. \"\"\" sorted_ : List [ Row ] = [] while unsorted : # Find rows containing only dependencies in sorted_. names = [ pkg [ name ] for pkg in sorted_ ] rows = [ ( idx , pkg ) for idx , pkg in enumerate ( unsorted ) if set ( pkg [ depends ]) . issubset ( names ) ] if rows : idxs , pkgs = zip ( * rows ) # Append found rows to sorted_ and remove them from unsorted. sorted_ += pkgs unsorted = [ elem for idx , elem in enumerate ( unsorted ) if idx not in idxs ] else : # If no rows are found then there exist circular dependencies. raise ValueError ( \"encountered circular dependencies.\" ) return sorted_ Sort rows based on the dependencies found in key. Parameters Name Type Description Default unsorted Sequence[Dict[str, Any]] Rows to sort. required depends str Dictionary key whose values are other dictionary dependencies. required name str Foreign key for dependencies. required Exceptions Type Description ValueError If rows contain circular requirements. Returns Type Description List[Dict[str, Any]] Rows sorted by requirements. read ( stream ) \u00b6 Show source code in yamltable/__init__.py 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 def read ( stream : Union [ IO [ str ], pathlib . Path , str ] ) -> Tuple [ List [ Row ], Optional [ Schema ]]: \"\"\"Read data from YAML file. Args: stream: YAML text, text I/O stream, or file path. Raises: FileNotFoundError: If unable to find file path. TypeError: If file is not organized as a list. Returns: YAML data. \"\"\" if isinstance ( stream , pathlib . Path ): stream = stream . read_text () try : data = yaml . safe_load ( stream ) except ( yaml . scanner . ScannerError , yaml . parser . ParserError ) as xcpt : raise TypeError ( f \"invalid YAML file: { xcpt } \" ) if isinstance ( data , list ): return data , None elif isinstance ( data , dict ): try : return data [ \"rows\" ], data [ \"schema\" ] except KeyError : raise TypeError ( \"YAML file does not have a schema and rows organization\" ) else : raise TypeError ( \"YAML file is not organized in a tabular format\" ) Read data from YAML file. Parameters Name Type Description Default stream Union[IO[str], pathlib.Path, str] YAML text, text I/O stream, or file path. required Exceptions Type Description FileNotFoundError If unable to find file path. TypeError If file is not organized as a list. Returns Type Description Tuple[List[Dict[str, Any]], Union[Dict[str, Any], NoneType]] YAML data. search ( key , val , rows ) \u00b6 Show source code in yamltable/__init__.py 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 def search ( key : str , val : Any , rows : Iterable [ Row ]) -> List [ Row ]: \"\"\"Search dictionaries by key and value. Args: key: Search key. val: Key comparison value. rows: Dictionaries to search. Returns: Matching dictionaries. Examples: >>> rows = [{\"foo\": 1, \"bar\": 2}, {\"foo\": 5, \"bar\": 6}] >>> search(\"bar\", 6, rows) [{'foo': 5, 'bar': 6}] \"\"\" return [ row for row in rows if key in row and row [ key ] == val ] Search dictionaries by key and value. Parameters Name Type Description Default key str Search key. required val Any Key comparison value. required rows Iterable[Dict[str, Any]] Dictionaries to search. required Returns Type Description List[Dict[str, Any]] Matching dictionaries. Examples: >>> rows = [{\"foo\": 1, \"bar\": 2}, {\"foo\": 5, \"bar\": 6}] >>> search(\"bar\", 6, rows) [{'foo': 5, 'bar': 6}] sort ( key , rows ) \u00b6 Show source code in yamltable/__init__.py 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 def sort ( key : str , rows : Iterable [ Row ]) -> List [ Row ]: \"\"\"Sort dictionaries based on value for supplied key name. Args: key: Search key. rows: Dictionaries to sort. Returns: List of sorted dictionaries. Examples: >>> rows = [{\"foo\": 5, \"bar\": 2}, {\"foo\": 3, \"bar\": 6}] >>> sort(\"foo\", rows) [{'foo': 3, 'bar': 6}, {'foo': 5, 'bar': 2}] >>> sort(\"bar\", rows) [{'foo': 5, 'bar': 2}, {'foo': 3, 'bar': 6}] \"\"\" return sorted ( rows , key = lambda row : row [ key ]) Sort dictionaries based on value for supplied key name. Parameters Name Type Description Default key str Search key. required rows Iterable[Dict[str, Any]] Dictionaries to sort. required Returns Type Description List[Dict[str, Any]] List of sorted dictionaries. Examples: >>> rows = [{\"foo\": 5, \"bar\": 2}, {\"foo\": 3, \"bar\": 6}] >>> sort(\"foo\", rows) [{'foo': 3, 'bar': 6}, {'foo': 5, 'bar': 2}] >>> sort(\"bar\", rows) [{'foo': 5, 'bar': 2}, {'foo': 3, 'bar': 6}] validate ( rows , schema ) \u00b6 Show source code in yamltable/__init__.py 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 def validate ( rows : Iterable [ Row ], schema : Optional [ Schema ] ) -> Tuple [ bool , int , str ]: \"\"\"Check that each row satisfies the schema. Args: rows: Dictionaries to validate. schema: JSON schema for validation. Returns: Whether all rows are valid, invalid row index or -1, invalid error message. \"\"\" try : jsonschema . Draft7Validator . check_schema ( schema ) except ( exceptions . SchemaError , exceptions . UnknownType ) as xcpt : error_msg = str ( xcpt ) return False , - 1 , error_msg validator = jsonschema . Draft7Validator ( schema ) for idx , row in enumerate ( rows ): try : validator . validate ( row ) except exceptions . ValidationError as xcpt : error_msg = str ( xcpt ) return False , idx , error_msg return True , - 1 , \"\" Check that each row satisfies the schema. Parameters Name Type Description Default rows Iterable[Dict[str, Any]] Dictionaries to validate. required schema Optional[Dict[str, Any]] JSON schema for validation. required Returns Type Description Tuple[bool, int, str] Whether all rows are valid, invalid row index or -1, invalid error message. write ( file_path , rows , schema = None , sort_keys = False ) \u00b6 Show source code in yamltable/__init__.py 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 def write ( file_path : pathlib . Path , rows : List [ Row ], schema : Optional [ Schema ] = None , sort_keys : bool = False , ) -> None : \"\"\"Write data to YAML file. Args: file_path: YAML file path. rows: List of dictionaries to write. schema: JSON schema dictionary. sort_keys: Whether to sort row keys. \"\"\" if schema is None : with open ( file_path , \"w\" ) as handle : yaml . dump ( rows , handle , sort_keys = sort_keys ) else : data = { \"schema\" : schema , \"rows\" : rows } with open ( file_path , \"w\" ) as handle : yaml . dump ( data , handle , sort_keys = sort_keys ) Write data to YAML file. Parameters Name Type Description Default file_path Path YAML file path. required rows List[Dict[str, Any]] List of dictionaries to write. required schema Optional[Dict[str, Any]] JSON schema dictionary. None sort_keys bool Whether to sort row keys. False","title":"API Reference"},{"location":"src/reference/#api-reference","text":"While YamlTable was designed for command line usage, its library functions also expose helpful functionality. This page gives an overview of all YamlTable classes, functions and methods. Command line interface for sorting YAML files.","title":"API Reference"},{"location":"src/user/","text":"User Guide \u00b6 The user","title":"User Guide"},{"location":"src/user/#user-guide","text":"The user","title":"User Guide"},{"location":"src/user/cli/","text":"CLI \u00b6 Utility for working with YAML files organized similar to a relational database table. Usage : 1 $ [ OPTIONS ] COMMAND [ ARGS ] ... Options : --install-completion : Install completion for the current shell. --show-completion : Show completion for the current shell, to copy it or customize the installation. --help : Show this message and exit. Commands : index : Get row at INDEX in FILE_PATH. list : List all dictionary KEY values in FILE_PATH. search : Search dictionaries in FILE_PATH with... sort : Sort dictionaries in FILE_PATH by KEY values. validate : Check that every dictionary in FILE_PATH has... version : Display application version. index \u00b6 Get row at INDEX in FILE_PATH. Usage : 1 $ index [ OPTIONS ] INDEX FILE_PATH Options : --help : Show this message and exit. list \u00b6 List all dictionary KEY values in FILE_PATH. Usage : 1 $ list [ OPTIONS ] KEY FILE_PATH Options : --help : Show this message and exit. search \u00b6 Search dictionaries in FILE_PATH with matching KEY and VALUE pairs. Usage : 1 $ search [ OPTIONS ] KEY VALUE FILE_PATH Options : --help : Show this message and exit. sort \u00b6 Sort dictionaries in FILE_PATH by KEY values. Usage : 1 $ sort [ OPTIONS ] KEY FILE_PATH Options : --help : Show this message and exit. validate \u00b6 Check that every dictionary in FILE_PATH has conforms to its schema. Usage : 1 $ validate [ OPTIONS ] FILE_PATH Options : --help : Show this message and exit. version \u00b6 Display application version. Usage : 1 $ version [ OPTIONS ] Options : --help : Show this message and exit.","title":"CLI"},{"location":"src/user/cli/#cli","text":"Utility for working with YAML files organized similar to a relational database table. Usage : 1 $ [ OPTIONS ] COMMAND [ ARGS ] ... Options : --install-completion : Install completion for the current shell. --show-completion : Show completion for the current shell, to copy it or customize the installation. --help : Show this message and exit. Commands : index : Get row at INDEX in FILE_PATH. list : List all dictionary KEY values in FILE_PATH. search : Search dictionaries in FILE_PATH with... sort : Sort dictionaries in FILE_PATH by KEY values. validate : Check that every dictionary in FILE_PATH has... version : Display application version.","title":"CLI"},{"location":"src/user/cli/#index","text":"Get row at INDEX in FILE_PATH. Usage : 1 $ index [ OPTIONS ] INDEX FILE_PATH Options : --help : Show this message and exit.","title":"index"},{"location":"src/user/cli/#list","text":"List all dictionary KEY values in FILE_PATH. Usage : 1 $ list [ OPTIONS ] KEY FILE_PATH Options : --help : Show this message and exit.","title":"list"},{"location":"src/user/cli/#search","text":"Search dictionaries in FILE_PATH with matching KEY and VALUE pairs. Usage : 1 $ search [ OPTIONS ] KEY VALUE FILE_PATH Options : --help : Show this message and exit.","title":"search"},{"location":"src/user/cli/#sort","text":"Sort dictionaries in FILE_PATH by KEY values. Usage : 1 $ sort [ OPTIONS ] KEY FILE_PATH Options : --help : Show this message and exit.","title":"sort"},{"location":"src/user/cli/#validate","text":"Check that every dictionary in FILE_PATH has conforms to its schema. Usage : 1 $ validate [ OPTIONS ] FILE_PATH Options : --help : Show this message and exit.","title":"validate"},{"location":"src/user/cli/#version","text":"Display application version. Usage : 1 $ version [ OPTIONS ] Options : --help : Show this message and exit.","title":"version"},{"location":"src/user/install/","text":"Install \u00b6 Installing Python \u00b6 YamlTable requires Python 3.6+ as a dependency. You can download Python from their official site . If you need to manage multiple Python versions, pyenv is recommended for Linux or macOs, and pyenv-win is recommended for Windows. Installing YamlTable \u00b6 YamlTable can be installed with the PIP package manager. 1 pip install --user yamltable If you receive a script warning about the install location not being found on your PATH , then add the install location to your PATH environment variable. Diving In \u00b6 Once YamlTable is installed, you can try it out from the command line with yamltable --help or import it in a Python script with import yamltable . For instructions about using YamlTable from the command line, visit the CLI guide . For instructions about using YamlTable as a Python library, visit the library guide or the API reference .","title":"Install"},{"location":"src/user/install/#install","text":"","title":"Install"},{"location":"src/user/install/#installing-python","text":"YamlTable requires Python 3.6+ as a dependency. You can download Python from their official site . If you need to manage multiple Python versions, pyenv is recommended for Linux or macOs, and pyenv-win is recommended for Windows.","title":"Installing Python"},{"location":"src/user/install/#installing-yamltable","text":"YamlTable can be installed with the PIP package manager. 1 pip install --user yamltable If you receive a script warning about the install location not being found on your PATH , then add the install location to your PATH environment variable.","title":"Installing YamlTable"},{"location":"src/user/install/#diving-in","text":"Once YamlTable is installed, you can try it out from the command line with yamltable --help or import it in a Python script with import yamltable . For instructions about using YamlTable from the command line, visit the CLI guide . For instructions about using YamlTable as a Python library, visit the library guide or the API reference .","title":"Diving In"}]}